<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="stylesheets/bootstrap.min.css" rel="stylesheet" type="text/css">

  <title>Scouting Terminal</title>

  <script src="scripts/jquery-3.3.1.min.js"></script>

  <!-- update the version number as needed -->
  <script defer src="/__/firebase/4.9.1/firebase-app.js"></script>
  <!-- include only the Firebase features as you need -->
  <script defer src="/__/firebase/4.9.1/firebase-auth.js"></script>
  <script defer src="/__/firebase/4.9.1/firebase-database.js"></script>
  <script defer src="/__/firebase/4.9.1/firebase-messaging.js"></script>
  <script defer src="/__/firebase/4.9.1/firebase-storage.js"></script>
  <!-- initialize the SDK after all desired features are loaded -->
  <script defer src="/__/firebase/init.js"></script>

</head>

  <body>
    <center>
      <h1>Scouting Form</h1>
      <p>You are currently scouting: </p>
      <h3 id="match_field">Qualifying 1</h3>
      <h3 id="allyfield">ERROR IN FINDING ALLIANCE</h3>
      <p id="numfield"></p>
      <br>
      <h2>Autonomous</h2>

      <form id="autoform" action="teleop.html">

        <label for="cube">Starts with Power Cube?</label>
        <input type="checkbox" id="cube" name="cube" checked></input><br><br>

        <label for="position">Robot Starting Position</label>
        <select id="position" name="position">
          <option value="left" selected>Left</option>
          <option value="middle">Middle</option>
          <option value="right">Right</option>
        </select>

        <br><br>

        <label for="progress">Accomplishments</label>
        <select id="progress" name="progress">
          <option value="auto" selected>Crossed Auto Line</option>
          <option value="switch">Placed Cube on Switch</option>
          <option value="scale">Placed Cube on Scale</option>
          <option value="exchange">Placed Cube in Exchange</option>
          <option value="switchscale">Placed Cube on both Switch and Scale</option>
        </select><br><br>

        <input type="checkbox" id="drop" name="drop"></input>
        <label for="drop">Drop?</label><br>


        <!-- Implement some form of robot position recording - canvas? -->
        <!--
        <input type="checkbox" id="auto"></input>
        <label for="auto">Crossed Auto Line</label><br><br>
        <input type="checkbox" id="places"></input>
        <label for="places">Successful Place?</label><br>
        <input type="checkbox" id="throws"></input>
        <label for="throws">Successful Throw?</label><br>
        <input type="checkbox" id="drop"></input>
        <label for="drop">Drop?</label><br>
        <input type="checkbox" id="throwf"></input>
        <label for="throwf">Failed Throw?</label><br><br>
        <input type="text" id="notes" value="Miscellaneous Notes"></input><br><br>
        <input type="submit" id="submita" value="Submit"></input>
      -->

        <br><br>
        <input class="btn btn-success" type="submit" value="Submit" id="submitauto"></input>

        <input type="text" id="match_number" name="match_number" hidden>
        <input type="text" id="alliance" name="alliance" hidden>
        <input type="text" id="event_key" name="event_key" hidden>
        <input type="text" id="match_type" name="match_type" hidden>
        <input type="text" id="team_number" name="team_number" hidden>
      </form>

        <script>
          $(document).ready(() => {
            console.log("Hi");

            $("#submitauto").submit(() => {

            });

          });

          var url = new URL(window.location.href);
          var data = {
            "team_number": url.searchParams.get('team_number'),
            "alliance": url.searchParams.get('alliance'),
            "event_key": url.searchParams.get('event_key'),
            "match_type": url.searchParams.get('match_type'),
            "match_number": url.searchParams.get('match_number')
          }
          document.getElementById('numfield').innerHTML=
            "Team " + data.team_number;
          document.getElementById('allyfield').innerHTML=
            data.alliance.toUpperCase() + " ALLIANCE";
          document.getElementById('match_field').innerHTML=
            "Match: " + data.match_type + data.match_number;
          document.getElementById('alliance').value=
            data.alliance;
          document.getElementById('event_key').value=
            data.event_key;
          document.getElementById('team_number').value = data.team_number;
          document.getElementById('match_type').value = data.match_type;
          document.getElementById('match_number').value = data.match_number;

        </script>
    </body>
</html>
